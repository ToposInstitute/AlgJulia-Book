

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Chapter 6: Cut-Copy-Glue Graphs &#8212; What? Not How! - A Peek into Relational Thinking</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chp6-dpo';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Chapter 7: Double-Pushout Rewriting Applications" href="chp7-dpo-application.html" />
    <link rel="prev" title="Chapter 5: Graph Gluing" href="chp5-graph-gluing.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/AJ.png" class="logo__image only-light" alt="What? Not How! - A Peek into Relational Thinking - Home"/>
    <script>document.write(`<img src="_static/AJ.png" class="logo__image only-dark" alt="What? Not How! - A Peek into Relational Thinking - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Introduction
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="chp1-directed-graphs.html">Chapter 1: Directed Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="chp2-dwd.html">Chapter 2: Dynamical Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="chp3-graph-relationships.html">Chapter 3: Graph Relationships</a></li>
<li class="toctree-l1"><a class="reference internal" href="chp4-schemas.html">Chapter 4: Schemas</a></li>
<li class="toctree-l1"><a class="reference internal" href="chp5-graph-gluing.html">Chapter 5: Graph Gluing</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Chapter 6: Cut-Copy-Glue Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="chp7-dpo-application.html">Chapter 7: Double-Pushout Rewriting Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Acknowledgements</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/priyaasrini/AlgJulia-Book2/main?urlpath=tree/./chp6-dpo.md" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/priyaasrini/AlgJulia-Book2" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/priyaasrini/AlgJulia-Book2/issues/new?title=Issue%20on%20page%20%2Fchp6-dpo.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/chp6-dpo.ipynb" target="_blank"
   class="btn btn-sm btn-download-notebook-button dropdown-item"
   title="Download notebook file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li><a href="_sources/chp6-dpo.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Chapter 6: Cut-Copy-Glue Graphs</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">6.1. Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#specs-for-find-and-replace">6.2. Specs for “find and replace”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-a-match">6.3. Finding a match</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#removing-vertices-and-edges-from-a-graph">6.4. Removing vertices and edges from a graph</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-a-match-to-remove-vertices-edges">6.4.1. Finding a match to remove vertices/edges</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performing-deletion">6.4.2. Performing deletion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#managing-the-requirements-of-a-match">6.4.3. Managing the requirements of a match</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-vertices-and-edges-to-a-graph">6.5. Adding vertices and edges to a graph</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#find-and-replace-in-chemistry">6.6. Find-and-replace in chemistry</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#find-and-replace-in-game-design">6.7. Find-and-replace in game design</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#algebraic-julia-for-find-and-replace-in-graphs">6.8. Algebraic Julia for find-and-replace in graphs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-matches-of-a-search-pattern">6.8.1. Finding matches of a search pattern</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#is-this-a-pushout-complement">6.8.2. Is this a pushout complement?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-pushout-complements">6.8.3. Computing Pushout complements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-double-pushouts">6.8.4. Computing double-pushouts</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-relational-thinking-is-good">6.9 Why relational thinking is good?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#relational-thinking-shifts-vocabularly">6.9.1. Relational thinking shifts vocabularly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-order-of-processes">6.9.2 The order of processes</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="chapter-6-cut-copy-glue-graphs">
<h1>Chapter 6: Cut-Copy-Glue Graphs<a class="headerlink" href="#chapter-6-cut-copy-glue-graphs" title="Permalink to this heading">#</a></h1>
<section id="introduction">
<h2>6.1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>“Find-and-replace” feature of text editors is one of the most powerful innovations of the 20th century. Inspite of unavailability of statistics, the advantage of this feature is tangible and undeniable! Beyond text editors, the concept of “find and replace” has also caused much chaos in the world! When the European conquerors “found” native Americans settlements in Canada, they decided to “replace” the native culture by sending an entire generation of native American children to special missionary schools. This has resulted in trauma and chaos that continues well into the current times. Or a country waging war over another country to replace the exisiting government for political reasons! Or Large-scale replacement of forests by industries and settlements has adversely impacting global climate.</p>
<blockquote>
<div><p>We know in hindsight this approach has lead humanity to face issues bigger than they the ones it intended to solve! So, what was missed in the decision making process?</p>
</div></blockquote>
<p>Let us consider a fun and non-political example – the struggle of qutting sugar. Here is a simple explanation of a why quitting sugar is so hard! A usual thought-process behind attempting to quit sugar is:</p>
<a class="reference internal image-reference" href="_images/quit-sugar-1.png"><img alt="Whoopsy!" class="align-center" src="_images/quit-sugar-1.png" style="width: 550px;" /></a>
<p>But the reality is:</p>
<a class="reference internal image-reference" href="_images/quit-sugar-2.png"><img alt="Whoopsy!" class="align-center" src="_images/quit-sugar-2.png" style="width: 350px;" /></a>
<p>because, the connections are broken causing the system to experience instability:</p>
<a class="reference internal image-reference" href="_images/quit-sugar-3.png"><img alt="Whoopsy!" class="align-center" src="_images/quit-sugar-3.png" style="width: 350px;" /></a>
<p>While being healthy makes a person happy, eating sugar makes a person happy in a different way. Hence, removing sugar results in a broken connection and an unstable structure! The result is usually to restore stability by brining (more) sugar back! Even though this example is oversimplistic, it drives home the message connections playing an important role in driving our lives and why careful considerations of connections is necessary to make a positive change.</p>
<p>If we want to make a change, it is recommended to start with something simple. The simple thing we shall do in this chapter is to build a way to make changes to an existing graph in a “good” way. By good, we mean that we do not end up with broken connections, and make precisely the changes that are intended.</p>
<p>Making changes to a graph means adding new vertices/edges or removing existing vertices/edges or both. And these changes happen over particular region(s) of the graph (like a textual find and replace).</p>
<p>A lot of concepts in the world around us are modelled as graphs. Hence, building a way to changing an existing graph that is guaranteed to be good is much more than just a theoretical exercise.</p>
<p>Let us begin!</p>
<p>Given a pattern (a graph), and its replacement, our mission is to “find” the pattern in any host graph and “replace” it in a good way –
first by hand and then in computers! <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
</section>
<section id="specs-for-find-and-replace">
<h2>6.2. Specs for “find and replace”<a class="headerlink" href="#specs-for-find-and-replace" title="Permalink to this heading">#</a></h2>
<p>Suppose we want to find a text and replace it by some other text in a document. Microsoft Word provides an interface as in the picture belowfor this purpose.</p>
<a class="reference internal image-reference" href="_images/find-and-replace.png"><img alt="Whoopsy!" class="align-center" src="_images/find-and-replace.png" style="width: 450px;" /></a>
<div class="admonition-pause-and-ponder admonition">
<p class="admonition-title">Pause and ponder</p>
<p>How would the interface for find-and-replace in graphs look like?</p>
</div>
<p>To begin with, let us think what would be filled in the “Find what:” and “Replace with:” boxes.</p>
<p><code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code> box must take in a graph. This is the search pattern that will be matched in a host graph. <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">with</span></code> box should also take in a graph. This is the replace pattern that will replace the match.</p>
<p>Great, we are already half-way through! Next, we must how <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code> and <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">with</span></code> relate! In text documents, there is only one way of replacing a text by another. But in graphs, there are multiple ways of replacing one graph by another unless specified. Our goal is to find a match of <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code> in the host graph and to replace it with <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">with</span></code>.</p>
<p>Consider the following example:</p>
<a class="reference internal image-reference" href="_images/find-and-replace-example.png"><img alt="Whoopsy!" class="align-center" src="_images/find-and-replace-example.png" style="width: 375px;" /></a>
</br>
<p>There is a match in the host graph which is the vertex with the self-loop. However, there are at least two ways to replace the match with <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">with</span></code>, as shown below.</p>
<a class="reference internal image-reference" href="_images/replacements.png"><img alt="Whoopsy!" class="align-center" src="_images/replacements.png" style="width: 475px;" /></a>
<p>Replacement-1 replaces the search pattern (<code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code>) by matching it with the middle vertices of the replace pattern (<code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">with</span></code>).</p>
<a class="reference internal image-reference" href="_images/replacement-1.png"><img alt="Whoopsy!" class="align-center" src="_images/replacement-1.png" style="width: 475px;" /></a>
</br>
<p>Replacement-2 replaces the search pattern by deleting the self loop and by matching the remaining vertex with one of the end nodes of the replace pattern.</p>
<a class="reference internal image-reference" href="_images/replacement-2.png"><img alt="Whoopsy!" class="align-center" src="_images/replacement-2.png" style="width: 475px;" /></a>
</br>
<p>To pick one of these replacements, the find-and-replace must specify where the search pattern (<code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code>) and the replace patterns (<code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">with</span></code>) meet or overlap.</p>
<p>We know from Chapter 5, how to specify overlap between two graphs :) Do you remember the diagram with three graphs and two radiating arrows?</p>
<a class="reference internal image-reference" href="_images/overlap.png"><img alt="Whoopsy!" class="align-center" src="_images/overlap.png" style="width: 300px;" /></a>
<p>The only requirement in this case will be that the arrows needs to be <strong>injective morphisms</strong> (each vertex of the search pattern must overlap with a unique vertex of the replacement pattern. Similary for the edges).</p>
<div class="admonition-pause-and-ponder admonition">
<p class="admonition-title">Pause and ponder</p>
<p>How does the search and the replace patterns overlap in the two different cases of replacement shown above?</p>
</div>
<p>The solutions are as follows!</p>
<p>For replacement-1,</p>
<a class="reference internal image-reference" href="_images/interface-1.png"><img alt="Whoopsy!" class="align-center" src="_images/interface-1.png" style="width: 575px;" /></a>
<p>and replacement-2:</p>
<a class="reference internal image-reference" href="_images/interface-2.png"><img alt="Whoopsy!" class="align-center" src="_images/interface-2.png" style="width: 625px;" /></a>
</br>
<p>Note that, the vertices and the edges of the search pattern outside the overlap region are removed from the host. For example, in case 2, the self-loop of the search pattern is outside the overlap. So it has been removed during the replacement procedure. What overlaps in the search pattern is alone retained. So, the embedding from <code class="docutils literal notranslate"><span class="pre">overlap</span></code> to <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code> is the <strong>specification for deletion</strong>.</p>
<a class="reference internal image-reference" href="_images/interfaceExample.png"><img alt="Whoopsy!" class="align-center" src="_images/interfaceExample.png" style="width: 625px;" /></a>
<p>The vertices and the edges of the replacement pattern outside the overlap region are added to the host grpah. In case 2, these are unlabelled yellow color nodes in <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">with</span></code> are outside the overlap region. They have been added to the host graph during the replacement. So, the embedding from <code class="docutils literal notranslate"><span class="pre">overlap</span></code> to <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">with</span></code> is the <strong>specification for addition</strong>.</p>
<p>The overlap will be unchanged. It is precisely what remains after removing specified edges/vertices from the search pattern.</p>
<a class="reference internal image-reference" href="_images/specification.png"><img alt="Whoopsy!" class="align-center" src="_images/specification.png" style="width: 625px;" /></a>
<p>Neat, huh?!</p>
<div class="admonition-puzzle-1 admonition">
<p class="admonition-title">Puzzle 1</p>
<div class="wrapper docutils">
<p>Find the overlap between search and replace for the following replacement:</p>
<p>…</p>
<div class="dropdown admonition">
<p class="admonition-title">Solution</p>
<div class="wrapper docutils">
<p>IMAGE</p>
</div>
</div>
</div>
</div>
<div class="admonition-puzzle-2 admonition">
<p class="admonition-title">Puzzle 2</p>
<div class="wrapper docutils">
<p>Apply the following find and replace to the given host graph at the highlighted match:</p>
<p>…</p>
<div class="dropdown admonition">
<p class="admonition-title">Solution</p>
<div class="wrapper docutils">
<p>IMAGE</p>
</div>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title">Key points</p>
<p>The interface to find-and-replace needs to have:</p>
<a class="reference internal image-reference" href="_images/interface.png"><img alt="Whoopsy!" class="align-center" src="_images/interface.png" style="width: 450px;" /></a>
<ul class="simple">
<li><p>The injective morphism into <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code> is the <strong>specification for deletion</strong>.</p></li>
<li><p>The injective morphism into <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">With</span></code> is the <strong>specification for addition</strong>.</p></li>
</ul>
</div>
</section>
<section id="finding-a-match">
<h2>6.3. Finding a match<a class="headerlink" href="#finding-a-match" title="Permalink to this heading">#</a></h2>
<p>The next step is to answer how to find a match of a search pattern inside a host graph, similar to finding some text in a document. When a text editor receives an input like this, it find (exact) matches of the string of characters “Happy Priyaa”.</p>
<a class="reference internal image-reference" href="_images/find-and-replace-text.png"><img alt="Whoopsy!" class="align-center" src="_images/find-and-replace-text.png" style="width: 250px;" /></a>
<p>However, in graph, connectivity matters than finding exact match of the shape of the search pattern. So when searching for pattern in a host graph, we do not look for 1-to-1 correspondence between vertices / edges of the <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code>. Rather, we need to look for matches which have similar connectivity as the search pattern. Do the words “similar connectivity” a ring bell? Similar connectivity implies  graph morphism.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>A match is a graph morphism from <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code> to a host.</p>
</div>
<p>Let us suppose we want to find a match of this search pattern in the host graph:</p>
<a class="reference internal image-reference" href="_images/match.png"><img alt="Whoopsy!" class="align-center" src="_images/match.png" style="width: 350px;" /></a>
</br>
<p>Here are two possible matches of the search pattern. The mapping (match) is shown using the labels on the vertices and the edges.</p>
<p>The below match is an injective morphism.</p>
<a class="reference internal image-reference" href="_images/match-example-1.png"><img alt="Whoopsy!" class="align-center" src="_images/match-example-1.png" style="width: 350px;" /></a>
</br>
<p>The below match, has vertices “1” and “2” in the search pattern, mapped to the same vertex in the host graph.</p>
<a class="reference internal image-reference" href="_images/match-example-2.png"><img alt="Whoopsy!" class="align-center" src="_images/match-example-2.png" style="width: 350px;" /></a>
</br>
<div class="note admonition">
<p class="admonition-title">Let us strengthen our understanding!</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-0">
Puzzle 3</label><div class="sd-tab-content docutils">
<p>Find at least two matches of the search pattern in the host graph.</p>
<div class="wrapper docutils">
<a class="reference internal image-reference" href="_images/match-ex1.png"><img alt="Whoopsy!" class="align-center" src="_images/match-ex1.png" style="width: 350px;" /></a>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Solution</p>
<div class="wrapper docutils">
<p>An exact match:</p>
<a class="reference internal image-reference" href="_images/match-ex-sol1.png"><img alt="Whoopsy!" class="align-center" src="_images/match-ex-sol1.png" style="width: 350px;" /></a>
<p>Non-injective match:</p>
<a class="reference internal image-reference" href="_images/match-ex-sol2.png"><img alt="Whoopsy!" class="align-center" src="_images/match-ex-sol2.png" style="width: 350px;" /></a>
</div>
</div>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-1">
Puzzle 4</label><div class="sd-tab-content docutils">
<p>(Same as Paul’s Puzzle from chapter 1)</p>
<p>How many matches (graph morphism) are from the <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code> to the host graph?</p>
<div class="wrapper docutils">
<p>IMAGE</p>
</div>
<div class="dropdown admonition">
<p class="admonition-title">Solution</p>
<div class="wrapper docutils">
<p>IMAGE</p>
</div>
</div>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title">Key points</p>
<p>A <em>match</em> in a host graph is given by a morphism from <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code> to a host graph!</p>
</div>
</section>
<section id="removing-vertices-and-edges-from-a-graph">
<h2>6.4. Removing vertices and edges from a graph<a class="headerlink" href="#removing-vertices-and-edges-from-a-graph" title="Permalink to this heading">#</a></h2>
<p>We now have the specification for “find-and-replace” and the specification for a match. What remains is to perform the find-and-replace! We will begin with the deletion specification!</p>
<div class="math notranslate nohighlight">
\[ {\sf overlap} \hookrightarrow {\sf Find~what} \]</div>
<section id="finding-a-match-to-remove-vertices-edges">
<h3>6.4.1. Finding a match to remove vertices/edges<a class="headerlink" href="#finding-a-match-to-remove-vertices-edges" title="Permalink to this heading">#</a></h3>
<p>[Message: Tell what a good match is!]</p>
<p>Erasing edges and vertices require care. Suppose a vertex in a match is specifed to be removed. There may be other vertices in the host graph which are connected to the vertex to be deleted. In that case, deleting the vertex will lead to zombie graphs which has edges not connected to any vertex.</p>
<p>The following example illustrates this situation.</p>
<p>Suppose, we have the following specification for deletion: vertex 2 and edge ‘2-3’ will be deleted since they are not under the overlap region!</p>
<a class="reference internal image-reference" href="_images/remove-7.png"><img alt="Whoopsy!" class="align-center" src="_images/remove-7.png" style="width: 650px;" /></a>
</br>
<p>Can you see why the following match is bad even though it is a graph morphism?</p>
<a class="reference internal image-reference" href="_images/bad-match-1.png"><img alt="Whoopsy!" class="align-center" src="_images/bad-match-1.png" style="width: 650px;" /></a>
</br>
<p>Removing vertex 2 from the host graph will result in a dangling edge, see the diagram picture below!</p>
<a class="reference internal image-reference" href="_images/dangling-3.png"><img alt="Whoopsy!" class="align-center" src="_images/dangling-3.png" style="width: 250px;" /></a>
<p>An appropriate match will be:</p>
<a class="reference internal image-reference" href="_images/remove-8.png"><img alt="Whoopsy!" class="align-center" src="_images/remove-8.png" style="width: 550px;" /></a>
</br>
<p>Another situation that needs care is that a match must not identify a vertex to be deleted and a vertex that needs to be retained (not to be deleted) in the search pattern to the same vertex in the host graph. By the deletion specification, vertex 1 must remain and vertex 2 needs to be deleted. However, the following match identifies vertices 1 and 2 of the search pattern to the same vertex (“1,2”) in the host graph.</p>
<a class="reference internal image-reference" href="_images/identification-1.png"><img alt="Whoopsy!" class="align-center" src="_images/identification-1.png" style="width: 550px;" /></a>
</br>
<p>So what should be done now – keep “1,2” or delete “1,2” from the host graph? A good match, in the first place, MUST avoid identifying 1 and 2 into the same bin since either choice is incorrect.</p>
<div class="tip admonition">
<p class="admonition-title">Key points</p>
<p>A <strong>good match</strong> of a search pattern (for deletion of vertices and edges) will:</p>
<ul class="simple">
<li><p>satisfy the <em>no-dangling edge condition</em>.</p></li>
<li><p>identify vertices / edges to be deleted and vertices / edges to remain seperately, called the <em>right identification condition</em>.</p></li>
</ul>
</div>
<p>We will talk more about “finding a good match” once the algorithm to perform the deletion specification is set up.</p>
</section>
<section id="performing-deletion">
<h3>6.4.2. Performing deletion<a class="headerlink" href="#performing-deletion" title="Permalink to this heading">#</a></h3>
<p>[Message: Tell deletion is computing pushout compelements]</p>
<p>We are given a deletion specification, a host graph and a match for the search pattern in the host graph. As before, let us begin by making a diagram of the information we have.</p>
<a class="reference internal image-reference" href="_images/remove-1.png"><img alt="Whoopsy!" class="align-center" src="_images/remove-1.png" style="width: 650px;" /></a>
</br>
<p>The new graph which results after performing the replacement will have:</p>
<ol class="arabic simple">
<li><p>All the vertices and edges of the host graph which are outside the match, and</p></li>
<li><p>Only those vertices and edges of the match which is also included in the overlap.</p></li>
</ol>
<p>This means that <code class="docutils literal notranslate"><span class="pre">overlap</span></code> will have a match in the new graph <strong>determined by the match found in the host graph</strong>. The new graph will have an injective morphism into the host graph.</p>
</br>
<a class="reference internal image-reference" href="_images/remove-2.png"><img alt="Whoopsy!" class="align-center" src="_images/remove-2.png" style="width: 750px;" /></a>
</br>
<p>The above square commutes! Does this shape remind you of pushouts from chapter 5? It turns out that, the host graph is the pushout of <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code> and the new graph!!</p>
<p>This indeed makes sense, because, the search pattern includes vertices and edges which has been removed. Glueing together <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code> and the and the new graph along the overlap msut give the original host graph!</p>
<p>Since the new graph completes a pushout square we shall call it as the <strong>Pushout complement</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Complement means <em>the thing that completes or brings to perfection</em>.</p>
</div>
<blockquote>
<div><p>A pushout complement is a pushout completement!</p>
</div></blockquote>
<p>Let us look at an example of computing “pushout <strong>complement</strong>”</p>
<div class="admonition-example-1 admonition">
<p class="admonition-title">Example 1</p>
<a class="reference internal image-reference" href="_images/example-1.png"><img alt="Whoopsy!" class="align-center" src="_images/example-1.png" style="width: 750px;" /></a>
<p>The nodes exclusive to <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code> must be removed from the host graph. Thus, the pushout out complement must include:</p>
<ol class="arabic simple">
<li><p>all the parts of the host graph not under the match, and</p></li>
<li><p>only those parts of the match which is included in the overlap.</p></li>
</ol>
<p>In this example, the pushout complement includes all the edges and vertices in the host graph that is not under the match (all unlabelled vertices and edges),  and includes those vertices and edges in the match which are under the image of <code class="docutils literal notranslate"><span class="pre">overlap</span></code> (vertices 1 and 2).</p>
</div>
<div class="admonition-puzzle-5 admonition">
<p class="admonition-title">Puzzle 5</p>
<p>What is the pushout complement?</p>
<p>This problem has a coarse-grain match. Vertices “1” and “2” of <code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code> are sent to the same vertex in the host graph. Simiarly vertices “3” and “4” are sent to the same vertex in the host graph.</p>
<a class="reference internal image-reference" href="_images/Ex-11.png"><img alt="Whoopsy!" class="align-center" src="_images/Ex-11.png" style="width: 750px;" /></a>
<div class="dropdown admonition">
<p class="admonition-title">Solution</p>
<div class="wrapper docutils">
<a class="reference internal image-reference" href="_images/Ex1-sol.png"><img alt="Whoopsy!" class="align-center" src="_images/Ex1-sol.png" style="width: 650px;" /></a>
</div>
</div>
</div>
<div class="admonition-puzzle-6 admonition">
<p class="admonition-title">Puzzle 6</p>
<p>What is the pushout complement?</p>
<a class="reference internal image-reference" href="_images/Ex-21.png"><img alt="Whoopsy!" class="align-center" src="_images/Ex-21.png" style="width: 750px;" /></a>
<div class="dropdown admonition">
<p class="admonition-title">Solution</p>
<p>The pushout complement includes all the edges and vertices in the host graph that is not under the match (all unlabelled vertices and edges),and includes those vertices and edges in the match which are in Graph-2.</p>
<div class="wrapper docutils">
<a class="reference internal image-reference" href="_images/Ex-2-sol1.png"><img alt="Whoopsy!" class="align-center" src="_images/Ex-2-sol1.png" style="width: 650px;" /></a>
</div>
</div>
</div>
</section>
<section id="managing-the-requirements-of-a-match">
<h3>6.4.3. Managing the requirements of a match<a class="headerlink" href="#managing-the-requirements-of-a-match" title="Permalink to this heading">#</a></h3>
<p>In programming, there is a concept called “edge case”. These are special situations where a code will fail to produce appropriate results. For example, a bug that occurs in only iPhone. They are called “edge cases” because these situations lie outside the normal flow of a code / algorithm and custom extra code is added for their special handling. There is an anecdote, “Edge cases are impossible to avoid, so keep them simple”.</p>
<div class="admonition-million-dollar-questions admonition">
<p class="admonition-title">Million dollar questions:</p>
<ol class="arabic simple">
<li><p>What will happen when a match that violates the “no-dangling edge” requirement is supplied for pushout-completement?</p></li>
<li><p>What will happen when a match that violates the “right identification” requirement is supplied for pushout-completement?</p></li>
</ol>
</div>
<p>If the pushout-completement produces bad results, then these violations will be edge cases which needs to be handled outside the completement procedure – like an algorithm to check if the match is appropriate.</p>
<p>The good news is that the <em>universal nature</em> of pushouts guarantee us that pushout-complement will exist ONLY for appropraite matches!! That is, replacement will be done only when the match is appropriate. Hence, there are no edge cases!!! To drive home home this message, here are two examples. We leave it to the reader to check if a pushout complement exists in these cases.</p>
<div class="admonition-example-2 admonition">
<p class="admonition-title">Example 2</p>
<p>(Will be redrawn)</p>
<p>Is there a pushout complement? If not, why?</p>
<div class="wrapper docutils">
<a class="reference internal image-reference" href="_images/dangling.png"><img alt="Whoopsy!" class="align-center" src="_images/dangling.png" style="width: 350px;" /></a>
</div>
</div>
<div class="admonition-example-3 admonition">
<p class="admonition-title">Example 3</p>
<p>Is there a pushout complement? If not, why?</p>
<div class="wrapper docutils">
<a class="reference internal image-reference" href="_images/right-identity.png"><img alt="Whoopsy!" class="align-center" src="_images/right-identity.png" style="width: 350px;" /></a>
</div>
</div>
<p>We did all the heavy lifting early-on by relying on relational thinking, considering all the relevant relationships, and getting the <em>plumbing</em> right! The pay off is that things flow smoothly without the need for extra intervention!</p>
<blockquote>
<div><p>The procedure is the guard rail!</p>
</div></blockquote>
<p>A final question we must ask is that are pushout complements unique? The pushout completement graph computed for a deletion rule is unique because the deletion rule is an injective morphism.</p>
<div class="tip admonition">
<p class="admonition-title">Key point</p>
<p>Vertices and edges of a graph is removed by computing pushout complement.</p>
</div>
</section>
</section>
<section id="adding-vertices-and-edges-to-a-graph">
<h2>6.5. Adding vertices and edges to a graph<a class="headerlink" href="#adding-vertices-and-edges-to-a-graph" title="Permalink to this heading">#</a></h2>
<p>We applied the deletion rule to remove the vertices and edges in the host graph as specified by the rule. We called the resulting graph a pushout complement.  We are now ready to add vertices and edges  specified by the addition rule to the pushout complement. That will complete our replacement procedure! Hurray!</p>
<p>As always, let us begin by drawing a diagram of the gre relationships we got! The advantage of drawing digrams is that it arranges information in an intuitive way that it makes it easier to “see” the solution!</p>
<a class="reference internal image-reference" href="_images/add-1.png"><img alt="Whoopsy!" class="align-center" src="_images/add-1.png" style="width: 550px;" /></a>
</br>
<p>We shall focus on the lower half of the diagram now where addition of vertices and edges shall proceed!</p>
<a class="reference internal image-reference" href="_images/add-2.png"><img alt="Whoopsy!" class="align-center" src="_images/add-2.png" style="width: 550px;" /></a>
</br>
<p>We now want to compute a new graph by adding the vertices and edges exclusive to <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">with</span></code> to the host graph at the match! Do you see how?! Does the shape of the diagram ringbells?</p>
<div class="dropdown admonition">
<p class="admonition-title">Yes, the answer is</p>
<p>Pushouts!!</p>
</div>
<p>By computing the pushout of the above diagram, we glue vertices / edges to be added to the pushout complement along the overlap. Our completed diagram looks as follows now:</p>
<a class="reference internal image-reference" href="_images/pushout.png"><img alt="Whoopsy!" class="align-center" src="_images/pushout.png" style="width: 550px;" /></a>
<p>Let us try out some examples to make sure we are right! We start from the example we saw in the previous section!</p>
<p><strong>Example:</strong> Adding a single edge</p>
<p>Suppose, we have an addition rule like this, and the match given by the pushout complement step:</p>
<a class="reference internal image-reference" href="_images/add-example-rule.png"><img alt="Whoopsy!" class="align-center" src="_images/add-example-rule.png" style="width: 550px;" /></a>
</br>
<p>The <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">with</span></code> has an edge between vertices 1 and 2. Since this edge is exclusive to <code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">with</span></code> (<code class="docutils literal notranslate"><span class="pre">overlap</span></code> does not have this edge between 1 and 2), this edge will be added to the host graph. Computing the pushout, precisely does this to the pushout complement!</p>
<a class="reference internal image-reference" href="_images/add-example-1.png"><img alt="Whoopsy!" class="align-center" src="_images/add-example-1.png" style="width: 550px;" /></a>
<p>The complete picture of the replacement procedure (deletion and addition) for this example is as follows:</p>
<p>We have the following replacement rule and a match in the host graph.</p>
<a class="reference internal image-reference" href="_images/complete-example-rules.png"><img alt="Whoopsy!" class="align-center" src="_images/complete-example-rules.png" style="width: 550px;" /></a>
</br>
<p>Computing the pushout complement followed by the pushout completes the replacement procedure!</p>
<a class="reference internal image-reference" href="_images/complete-example.png"><img alt="Whoopsy!" class="align-center" src="_images/complete-example.png" style="width: 550px;" /></a>
<!----------------------------->
<div class="admonition-puzzle-7-continued-from-puzzle-5-in-section admonition">
<p class="admonition-title">Puzzle 7 (continued from Puzzle 5 in Section — )</p>
<p>Compute the pushout:</p>
<a class="reference internal image-reference" href="_images/DPO-ex-1.png"><img alt="Whoopsy!" class="align-center" src="_images/DPO-ex-1.png" style="width: 550px;" /></a>
<div class="dropdown admonition">
<p class="admonition-title">Solution</p>
<p>[Explanation]</p>
<div class="wrapper docutils">
<a class="reference internal image-reference" href="_images/DPO-ex1-sol.png"><img alt="Whoopsy!" class="align-center" src="_images/DPO-ex1-sol.png" style="width: 650px;" /></a>
</div>
</div>
</div>
<div class="admonition-puzzle-8-continued-from-puzzle-6-in-section admonition">
<p class="admonition-title">Puzzle 8 (continued from Puzzle 6 in Section — )</p>
<a class="reference internal image-reference" href="_images/DPO-ex-2.png"><img alt="Whoopsy!" class="align-center" src="_images/DPO-ex-2.png" style="width: 550px;" /></a>
<div class="dropdown admonition">
<p class="admonition-title">Solution</p>
<p>[Explanation]</p>
<div class="wrapper docutils">
<a class="reference internal image-reference" href="_images/DPO-ex2-sol.png"><img alt="Whoopsy!" class="align-center" src="_images/DPO-ex2-sol.png" style="width: 650px;" /></a>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title">Key point 1</p>
<p>Vertices and edges are added by computing pushout.</p>
</div>
<div class="tip admonition" id="find-and-replace-machinery">
<p class="admonition-title">Key point 2: Find-and-replace machinery for graphs</p>
<p>A thing of beauty!!</p>
<p>A search pattern (<code class="docutils literal notranslate"><span class="pre">Find</span> <span class="pre">what</span></code>) found in a graph is carved into another pattern (<code class="docutils literal notranslate"><span class="pre">Replace</span> <span class="pre">with</span></code>) by computing pushout complement and followed by pushout.</p>
<a class="reference internal image-reference" href="_images/final-picture.png"><img alt="Whoopsy!" class="align-center" src="_images/final-picture.png" style="width: 650px;" /></a>
</div>
<p>Common literature calls our “Find-and-replace machinery” for graphs as Double Pushout Rewriting (DPO).</p>
</section>
<section id="find-and-replace-in-chemistry">
<h2>6.6. Find-and-replace in chemistry<a class="headerlink" href="#find-and-replace-in-chemistry" title="Permalink to this heading">#</a></h2>
<p>In chemistry, <strong>click reactions</strong> give high yield with low requirements and form only harmless by-products. A specific click reaction called the Diels-Alder’s reaction is one of the most useful ones in material design. Discovered in 1928, Otto Diels and Kurt Alder were awareded Nobel prize for their fascinating discovery.</p>
</br>
<a class="reference internal image-reference" href="_images/reaction.png"><img alt="Whoopsy!" class="align-center" src="_images/reaction.png" style="width: 250px;" /></a>
</br>
<p>In this section, we will see that Diel-Alder’s reaction is a double pushout rewrite - the  “Find and replace” machinery which uses pushouts. In this example,  we will view molecules as undirected graphs where atoms are vertices and the chemical bonds are edges. Diel-Alder’s reaction is the following, “Find-and-replace” rule for a specific molecule (we do not worry about the names of these molecules because that is not the point).</p>
<a class="reference internal image-reference" href="_images/Adler-1.png"><img alt="Whoopsy!" class="align-center" src="_images/Adler-1.png" style="width: 350px;" /></a>
</br>
<p>Standard chemistry books write this reaction as follows:</p>
<a class="reference internal image-reference" href="_images/Diel-Alder.png"><img alt="Whoopsy!" class="align-center" src="_images/Diel-Alder.png" style="width: 350px;" /></a>
<p>Let us now use this rule on a substrate molecule which will act as the host graph.</p>
<a class="reference internal image-reference" href="_images/Adler-substrate.png"><img alt="Whoopsy!" class="align-center" src="_images/Adler-substrate.png" style="width: 650px;" /></a>
</br>
<p>Applying the double-pushout find-and-replace, we precisely get the final product of this chemical reaction!!</p>
<a class="reference internal image-reference" href="_images/Adler.png"><img alt="Whoopsy!" class="align-center" src="_images/Adler.png" style="width: 650px;" /></a>
</section>
<section id="find-and-replace-in-game-design">
<h2>6.7. Find-and-replace in game design<a class="headerlink" href="#find-and-replace-in-game-design" title="Permalink to this heading">#</a></h2>
<p>Bob is an expert in designing game layout. He designs environment for games. He uses a layout editor for designing cool layouts. The layout keeps track of Bob’s design as an directed graph components of the environment are vertices. Two vertices are connected by an arrow if the player can navigate between these two components in the game in the direction of the arrow.</p>
<p>Bob is currently designing a game of Dungeons and Dragons, and have added two rooms to his dungeon – Room 1 and Room 2, and made Room2 directly accessible from Room 1.</p>
<p>However, Bob thought for a moment, and told to himself, “Hey, how about a corridor in-between?”.</p>
<a class="reference internal image-reference" href="_images/corridor.png"><img alt="Whoopsy!" class="align-center" src="_images/corridor.png" style="width: 350px;" /></a>
</br>
<p>Now a corridor needs to be added between Room 1 and Room 2, and arrows need to be redrawn as follows!</p>
<a class="reference internal image-reference" href="_images/game-design-2.png"><img alt="Whoopsy!" class="align-center" src="_images/game-design-2.png" style="width: 650px;" /></a>
</br>
<p>Reshaping directed graph follows the same idea as undirected graphs. The find-and-replace rule shall be applied to reshape Bob’s game layoout!</p>
</section>
<section id="algebraic-julia-for-find-and-replace-in-graphs">
<h2>6.8. Algebraic Julia for find-and-replace in graphs<a class="headerlink" href="#algebraic-julia-for-find-and-replace-in-graphs" title="Permalink to this heading">#</a></h2>
<section id="finding-matches-of-a-search-pattern">
<h3>6.8.1. Finding matches of a search pattern<a class="headerlink" href="#finding-matches-of-a-search-pattern" title="Permalink to this heading">#</a></h3>
<p>Puzzle 3</p>
</section>
<section id="is-this-a-pushout-complement">
<h3>6.8.2. Is this a pushout complement?<a class="headerlink" href="#is-this-a-pushout-complement" title="Permalink to this heading">#</a></h3>
<p>Example 2 and Example 3</p>
</section>
<section id="computing-pushout-complements">
<h3>6.8.3. Computing Pushout complements<a class="headerlink" href="#computing-pushout-complements" title="Permalink to this heading">#</a></h3>
<p>Puzzle 5 and Puzzle 6</p>
</section>
<section id="computing-double-pushouts">
<h3>6.8.4. Computing double-pushouts<a class="headerlink" href="#computing-double-pushouts" title="Permalink to this heading">#</a></h3>
<p>Puzzle 7 and Puzzle 8</p>
</section>
</section>
<section id="why-relational-thinking-is-good">
<h2>6.9 Why relational thinking is good?<a class="headerlink" href="#why-relational-thinking-is-good" title="Permalink to this heading">#</a></h2>
<section id="relational-thinking-shifts-vocabularly">
<h3>6.9.1. Relational thinking shifts vocabularly<a class="headerlink" href="#relational-thinking-shifts-vocabularly" title="Permalink to this heading">#</a></h3>
<p>We would like to bring reader’s attention to the some vocabulary common in practice since language influences thinking and vice versa.</p>
<p>The idea of “Find and replace” is a crude one in the sense it is unaware of the context of replacement. A text editor will allow me to replace “truth” by “lie” anywhere in the document. Context-unaware find and replace leads to chaos.</p>
<p>The mathematics we used to “find-and-replace” in graphs tells us that it is not a replacement, rather it is integration of a new pattern in the place of an exisiting pattern. To integrate is organic and harmonoius by nature! While to replace has an air of superiority about it! Replace is useful – replacing inflated tyres, replacing broken chain, etc.! However, in situations involving multiple interconnected entities, relational thinking recommends a shift in vocabulary from “Find-and-replace” to “Find-and-integrate”.</p>
<div class="tip admonition">
<p class="admonition-title">Slogan</p>
<p>Replace “replace” by “integrate”</p>
</div>
<p>This slogan probably is the answer to all the political issues mentioned in the beginning of the chapter.</p>
</section>
<section id="the-order-of-processes">
<h3>6.9.2 The order of processes<a class="headerlink" href="#the-order-of-processes" title="Permalink to this heading">#</a></h3>
<p>Let us take a moment reflect on the process of changing a graph guided by relational thinking!</p>
<p>Loosely speaking, in a free world, nothing prevents one from first adding what needs to be added and then remove what needs to be removed. But, a more economic way will be to first remove and then add, a procedure for the previous way needs to handle accidental errors like:</p>
<ul class="simple">
<li><p>Removing what has been added</p></li>
<li><p>Adding over the removal region.</p></li>
</ul>
<p>It cleaner and elegant approach to is to first remove the intended vertices/edges and then add the new ones.</p>
<p>The mathematics of relational thinking precisely does this! The math ‘knows’ that it must first remove by computing pushout complement and then add by computing pushout over that complement! Moreover, the order of processes cannot be reversed! How did the math get the ordering right?! That is a mystery. However, there is a message that is being conveyed.</p>
<div class="tip admonition">
<p class="admonition-title">Slogan</p>
<p>Think relationally to get it right!!</p>
</div>
<hr class="footnotes docutils" />
<aside class="footnote brackets" id="id2" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>A few examples in this chapter have been inspired by <a class="reference external" href="https://steemit.com/mathematics/&#64;markgritter/double-pushouts-on-graphs">the handout</a> titled “Double Pushout Rewriting in Chemistry” authored by Georg Fischer, and Hannah Gschwentner, and <a class="reference external" href="https://steemit.com/mathematics/&#64;markgritter/double-pushouts-on-graphs">the blog post</a> “Double pushouts on Graphs” by Mark Gritter!</p>
</aside>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "priyaasrini/AlgJulia-Book2",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "julia-1.10"
        },
        kernelOptions: {
            name: "julia-1.10",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'julia-1.10'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="chp5-graph-gluing.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Chapter 5: Graph Gluing</p>
      </div>
    </a>
    <a class="right-next"
       href="chp7-dpo-application.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Chapter 7: Double-Pushout Rewriting Applications</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">6.1. Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#specs-for-find-and-replace">6.2. Specs for “find and replace”</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-a-match">6.3. Finding a match</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#removing-vertices-and-edges-from-a-graph">6.4. Removing vertices and edges from a graph</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-a-match-to-remove-vertices-edges">6.4.1. Finding a match to remove vertices/edges</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performing-deletion">6.4.2. Performing deletion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#managing-the-requirements-of-a-match">6.4.3. Managing the requirements of a match</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-vertices-and-edges-to-a-graph">6.5. Adding vertices and edges to a graph</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#find-and-replace-in-chemistry">6.6. Find-and-replace in chemistry</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#find-and-replace-in-game-design">6.7. Find-and-replace in game design</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#algebraic-julia-for-find-and-replace-in-graphs">6.8. Algebraic Julia for find-and-replace in graphs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-matches-of-a-search-pattern">6.8.1. Finding matches of a search pattern</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#is-this-a-pushout-complement">6.8.2. Is this a pushout complement?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-pushout-complements">6.8.3. Computing Pushout complements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-double-pushouts">6.8.4. Computing double-pushouts</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-relational-thinking-is-good">6.9 Why relational thinking is good?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#relational-thinking-shifts-vocabularly">6.9.1. Relational thinking shifts vocabularly</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-order-of-processes">6.9.2 The order of processes</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>


<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Chapter 2: Dynamical systems &#8212; Relational thinking: from Abstractions to Applications</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chp2-dwd';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Chapter 3: Schemas" href="chp3-schemas.html" />
    <link rel="prev" title="Chapter 1: Directed Graphs" href="chp1-directed-graphs.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo-white.jpg" class="logo__image only-light" alt="Relational thinking: from Abstractions to Applications - Home"/>
    <script>document.write(`<img src="_static/logo-white.jpg" class="logo__image only-dark" alt="Relational thinking: from Abstractions to Applications - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Introduction
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="chp0.html">Chapter 0</a></li>
<li class="toctree-l1"><a class="reference internal" href="chp1-directed-graphs.html">Chapter 1: Directed Graphs</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Chapter 2: Dynamical systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="chp3-schemas.html">Chapter 3: Schemas</a></li>
<li class="toctree-l1"><a class="reference internal" href="chp4-graph-relationships.html">Chapter 4: Graph Morphisms</a></li>
<li class="toctree-l1"><a class="reference internal" href="chp5-graph-gluing.html">Chapter 5: Pushout graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="chp6-dpo.html">Chapter 6: Double pushout graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="chp7-dpo-application.html">Chapter 7: Looking beyond</a></li>

<li class="toctree-l1"><a class="reference internal" href="acknowledgements.html">Credits</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/ToposInstitute/AlgJulia-Book/main?urlpath=tree/./chp2-dwd.md" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ToposInstitute/AlgJulia-Book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ToposInstitute/AlgJulia-Book/issues/new?title=Issue%20on%20page%20%2Fchp2-dwd.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/chp2-dwd.ipynb" target="_blank"
   class="btn btn-sm btn-download-notebook-button dropdown-item"
   title="Download notebook file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li><a href="_sources/chp2-dwd.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Chapter 2: Dynamical systems</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">2.1. Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#making-graphs-dynamical">2.2. Making graphs dynamical</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#light-bulbs">2.3. Light bulbs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#single-light-bulb">2.3.1. Single light bulb</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#flashing-light-bulb">2.3.2. Flashing light bulb</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#string-of-lights">2.3.3. String of lights</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-traffic-light">2.3.4. A traffic light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-traffic-intersection">2.3.4. A traffic intersection</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kiki-and-bouba">2.4. Kiki and Bouba</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kiki-and-bouba-by-themselves">2.4.1. Kiki and Bouba by themselves</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kiki-and-bouba-talking-to-each-other">2.4.2. Kiki and Bouba talking to each other</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chef-bouba-and-his-helpers">2.4.3. Chef Bouba and his helpers</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">2.5. Summary</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="chapter-2-dynamical-systems">
<h1>Chapter 2: Dynamical systems<a class="headerlink" href="#chapter-2-dynamical-systems" title="Permalink to this heading">#</a></h1>
<section id="introduction">
<h2>2.1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p>Kiki and Bouba are great friends but are quite different characters! It is fun when they meet because Kiki is highly excitable and Bouba prefers to be on the grumpy side! However, they get along with each other quite well! Would it not be interesting to visualize how their mood levels change as they interact?! That is what this chapter is about – visualizing Kiki and Bouba mood levels when they interact using the tools we built in the last chapter!</p>
<a class="reference internal image-reference" href="_images/Kiki-Bouba-friends.png"><img alt="Whoopsy!" class="align-center" src="_images/Kiki-Bouba-friends.png" style="width: 400px;" /></a>
</section>
<section id="making-graphs-dynamical">
<h2>2.2. Making graphs dynamical<a class="headerlink" href="#making-graphs-dynamical" title="Permalink to this heading">#</a></h2>
<p>[<strong>Message</strong>: Graphs are animated when we add “states” to vertices and “update rules” to evolve the states. Simplistically, dynamical systems are animated graphs.]</p>
<aside class="sidebar">
<p class="sidebar-title">Whose turn is to do dishes?</p>
<a class="reference internal image-reference" href="_images/Tony-Tuco.png"><img alt="Whoopsy!" class="align-left" src="_images/Tony-Tuco.png" style="width: 400px;" /></a>
</aside>
<aside class="sidebar">
<p class="sidebar-title">Ski trip brochure</p>
<a class="reference internal image-reference" href="_images/Ski-lift.png"><img alt="Whoopsy!" class="align-center" src="_images/Ski-lift.png" style="width: 400px;" /></a>
</aside>
<p>We start with directed graphs. Each one of the directed graphs we met in the last chapter, “Whose turn is it to do dishes”, or the “Ski trip brochure”, or “Mythological romance”, is a blueprint of situations happening over time.</p>
<p>For example, here are few situations based on the “Ski trip brochure”:</p>
<p>Situation 1: A person was at the lodge. They took the lift up the mountain and skied downhill to the village.</p>
<p>Situation 2: A person was the village. The cross-country skiied in the village.</p>
<p>We can manifest these blueprints (directed graphs) into actual occurences by bringing these graphs to life! This means that we can feed the graphs to a computer, and with some <em>additional information</em>, the computer can simulate events indicated by these graphs. These events can be simulated as occuring over a period of time (Kiki and Bouba talking for 60 minutes) or can be simulated as occuring over discrete time steps.</p>
<div class="admonition-key-point admonition">
<p class="admonition-title">Key point </p>
<p>The <em>additional information</em> has two pieces – for every vertex,</p>
<ol class="arabic simple">
<li><p>One or more <mark>states</mark></p></li>
<li><p><mark>Update rule</mark> for each state</p></li>
</ol>
</div>
<p>We will start with a very simple example, and see show to apply these two pieces of information to a directed graph and simulate an event or dynamics in a computer!</p>
</section>
<section id="light-bulbs">
<h2>2.3. Light bulbs<a class="headerlink" href="#light-bulbs" title="Permalink to this heading">#</a></h2>
<p>Let’s start with a light bulb (what could be simpler?!).</p>
<section id="single-light-bulb">
<h3>2.3.1. Single light bulb<a class="headerlink" href="#single-light-bulb" title="Permalink to this heading">#</a></h3>
<p>We can <em>model</em> a light bulb using a directed graph with a single vertex and no edge. The light bulb is the vertex.</p>
<a class="reference internal image-reference" href="_images/bulb-vertex.png"><img alt="Whoopsy!" class="align-center" src="_images/bulb-vertex.png" style="width: 100px;" /></a>
<p>A light bulb is always in one of two “states” – either <code class="docutils literal notranslate"><span class="pre">OFF</span></code> or <code class="docutils literal notranslate"><span class="pre">ON</span></code>:</p>
<a class="reference internal image-reference" href="_images/light-bulb-state.png"><img alt="Whoopsy!" class="align-center" src="_images/light-bulb-state.png" style="width: 400px;" /></a>
<a class="reference internal image-reference" href="_images/LightbulbOn.png"><img alt="Whoopsy!" class="align-center" src="_images/LightbulbOn.png" style="width: 400px;" /></a>
<br/>
<p>We then add extra data to this vertex called <em>state</em> which gives on <code class="docutils literal notranslate"><span class="pre">ON</span></code>/<code class="docutils literal notranslate"><span class="pre">OFF</span></code> condition of the light bulb. At any instant of time, the state value is either <code class="docutils literal notranslate"><span class="pre">ON</span></code> or <code class="docutils literal notranslate"><span class="pre">OFF</span></code>.</p>
<a class="reference internal image-reference" href="_images/bulb-state-vertex.png"><img alt="Whoopsy!" class="align-center" src="_images/bulb-state-vertex.png" style="width: 100px;" /></a>
</br>
<p>The above graph can interpreted a snapshot of the bulb at an instant in time! The graph has some dynamic nature to it in the sense that the state can be either <code class="docutils literal notranslate"><span class="pre">ON</span></code> or <code class="docutils literal notranslate"><span class="pre">OFF</span></code>. However, once set to <code class="docutils literal notranslate"><span class="pre">ON</span></code> or <code class="docutils literal notranslate"><span class="pre">OFF</span></code>, the vertex (light bulb) just stays at whatever state we set it to.</p>
<blockquote>
<div><p>Adding state information to the vertices makes a graph slightly dynamic. A directed graph with a state for each vertex is a snapshot of an event in time.</p>
</div></blockquote>
<p>We would like the state of the light bulb to change over time!</p>
</section>
<section id="flashing-light-bulb">
<h3>2.3.2. Flashing light bulb<a class="headerlink" href="#flashing-light-bulb" title="Permalink to this heading">#</a></h3>
<p>Let us update our model (graph) to have the lighbulb flash on and off, like this:</p>
<a class="reference internal image-reference" href="_images/FlashingLight.gif"><img alt="Whoopsy!" class="align-center" src="_images/FlashingLight.gif" style="width: 300px;" /></a>
<br/>
<p>In order to accomplish this, the light bulb has to toggle its states continously. That is, if the present state is <code class="docutils literal notranslate"><span class="pre">ON</span></code>, it must switch <code class="docutils literal notranslate"><span class="pre">OFF</span></code>. If the present state is <code class="docutils literal notranslate"><span class="pre">OFF</span></code>, it must switch <code class="docutils literal notranslate"><span class="pre">ON</span></code>. It must perform this operation at every time step. What we described just now is called an  <strong>update rule</strong> – rule saying how a state is to be updated!</p>
<blockquote>
<div><p>Update rules along with states enables a graph to model systems which evolve over time, a.k.a dynamical systems!</p>
</div></blockquote>
<p>&#64;Paul:  THE SELF-LOOP NEEDS TO BE REMOVED. EVERY VERTEX ALWAYS HAS ACCESS TO ITS OWN STATE. PLEASE SEE THE CODE</p>
<p>Here is the directed graph that models a flashing bulb:</p>
<a class="reference internal image-reference" href="_images/FlashingLight.png"><img alt="Whoopsy!" class="align-center" src="_images/FlashingLight.png" style="width: 400px;" /></a>
<br/>
<p>At each time step, the light bulb move to <code class="docutils literal notranslate"><span class="pre">OFF</span></code> state if the current state is <code class="docutils literal notranslate"><span class="pre">ON</span></code>, move to <code class="docutils literal notranslate"><span class="pre">ON</span></code> if the current state is <code class="docutils literal notranslate"><span class="pre">OFF</span></code>!</p>
<p>Given a directed graph <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> , state information of its vertices, and update rules for each state, we can bring this graph to life – simulate an event represented by this directed graph using Algebraic Julia.</p>
<p>Here’s how we encode this update rule in Algebraic Julia:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Complete code available in the Github - flashing-light.jl</span>

<span class="c1"># Bulb states</span>
<span class="nd">@enum</span> <span class="n">BulbState</span> <span class="n">begin</span>
    <span class="n">BULB_ON</span> <span class="o">=</span> <span class="n">true</span>
    <span class="n">BULB_OFF</span> <span class="o">=</span> <span class="n">false</span>
<span class="n">end</span>

<span class="c1"># Update rule</span>
<span class="n">Transition</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span><span class="n">xor</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">Bool</span><span class="p">(</span><span class="n">BULB_ON</span><span class="p">))]</span> <span class="c1"># toggle bulb state</span>

<span class="c1"># Transmission of state information using the arrow</span>
<span class="n">Readout</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">=</span> <span class="n">state</span>
</pre></div>
</div>
<p>And we can even export an animation showing that our simulation works (using Javis library) as shown below!</p>
<a class="reference internal image-reference" href="_images/flashing-light-JAVIS.gif"><img alt="Whoopsy!" class="align-center" src="_images/flashing-light-JAVIS.gif" style="width: 75px;" /></a>
<div class="tip admonition">
<p class="admonition-title">Key point</p>
<p>At each time step, an update rule allows states of the vertices to be updated! An update rule acts on the current state(s) at its vertex to produce a new state for the vertex.</p>
</div>
</section>
<section id="string-of-lights">
<h3>2.3.3. String of lights<a class="headerlink" href="#string-of-lights" title="Permalink to this heading">#</a></h3>
<p>Flashing light is more exciting than bulb than never flashes! However, what’s more exciting is multiple bulbs “talking” to each and changing their states depending on the information recieved.</p>
<p>Suppose, we have a string of three light bulbs in a loop that perform a dance like this:</p>
<p>&#64;Paul: ANIMATION OF STRINGED LIGHTS (like 3Loop.png)</p>
<p>At each time step, each bulb copies (switches to) the state it recevies from its neighbor and transmits its state to the other neighbor.</p>
<p>The arrow between any two light bulbs serves as uni-directional conduit for state information from its source to its target. At each time step, the current state (of the source) is fed in the arrow (by the source). In the next time step, the state information carried by the arrow is read by the target. <mark> The target vertex changes it state based on the incoming state and its update rule. </mark></p>
<p>The graph model looks as follows:</p>
<p>&#64;Paul: ILLUSTRATION WITH UPDATE RULE</p>
<p>We now have new update rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Complete code available in looped-light.jl</span>

<span class="nd">@enum</span> <span class="n">BulbState</span> <span class="n">begin</span>
    <span class="n">BULB_ON</span> <span class="o">=</span> <span class="n">true</span>
    <span class="n">BULB_OFF</span> <span class="o">=</span> <span class="n">false</span>
<span class="n">end</span>

<span class="c1"># Update state to incoming state </span>
<span class="n">Transition</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span><span class="nb">input</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>  

<span class="c1"># transmit current state </span>
<span class="n">Readout</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">=</span> <span class="n">state</span>
</pre></div>
</div>
<p>Our computer simulation of stringed light bulbs produces the following animation:</p>
<a class="reference internal image-reference" href="_images/looped-light-JAVIS.gif"><img alt="Whoopsy!" class="align-center" src="_images/looped-light-JAVIS.gif" style="width: 150px;" /></a>
</br>
<div class="tip admonition">
<p class="admonition-title">Key points</p>
<ul class="simple">
<li><p>The <strong>arrow between two vertices serve as a coduit</strong> through which state information is transmitted from the source to the target vertex.</p></li>
<li><p>The source transmits its state in one time step. The target receives this state information in the next time step.</p></li>
<li><p>The target may update its state based on this incoming information.</p></li>
</ul>
</div>
<p>Now we have a series of cycling light bulbs in which one of them is always on. This models a familiar object - a traffic light! If we relabel our lights GREEN, YELLOW, and RED, then this model simulates the traffic light’s behavior of cycling through green, yellow, red and back to green.</p>
<a class="reference internal image-reference" href="_images/TrafficLight.gif"><img alt="Whoopsy!" class="align-center" src="_images/TrafficLight.gif" style="width: 400px;" /></a>
</br>
</br>
</section>
<section id="a-traffic-light">
<h3>2.3.4. A traffic light<a class="headerlink" href="#a-traffic-light" title="Permalink to this heading">#</a></h3>
<p>In the last example, each traffic light bulb (red, yellow, green) simply mimics its neighbour to be <code class="docutils literal notranslate"><span class="pre">ON</span></code> or <code class="docutils literal notranslate"><span class="pre">OFF</span></code>. This works in most cases! Let us say some accident happens, we want the RED to be <code class="docutils literal notranslate"><span class="pre">ON</span></code> and the rest of the lights to be <code class="docutils literal notranslate"><span class="pre">OFF</span></code>! We can handle these cases by introducing a CONTROL vertex, a mastermind which will <em>decide</em> which light bulb must be <code class="docutils literal notranslate"><span class="pre">ON</span></code> and which light must be <code class="docutils literal notranslate"><span class="pre">OFF</span></code> at any instant in time.</p>
<p>Let us model a traffic light with a control vertex.</p>
<a class="reference internal image-reference" href="_images/TrafficLight.png"><img alt="Whoopsy!" class="align-center" src="_images/TrafficLight.png" style="width: 400px;" /></a>
<p>[&#64;PAUL: THE ABOVE PICTURE NEEDS TO BE CHANGED AS PER THE DWD BELOW. The Arrows towards the controller needs to be removed]</p>
<a class="reference internal image-reference" href="_images/traffic-DWD.png"><img alt="Whoopsy!" class="align-center" src="_images/traffic-DWD.png" style="width: 250px;" /></a>
</br>
<p>The control vertex has three states:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ON</span></code>/<code class="docutils literal notranslate"><span class="pre">OFF</span></code> for the red light,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ON</span></code>/<code class="docutils literal notranslate"><span class="pre">OFF</span></code> for the yellow light, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ON</span></code>/<code class="docutils literal notranslate"><span class="pre">OFF</span></code> for the green light.</p></li>
</ul>
<p>The update rule for the control vertex is as follows:</p>
<a class="reference internal image-reference" href="_images/traffic-controller-update.png"><img alt="Whoopsy!" class="align-center" src="_images/traffic-controller-update.png" style="width: 400px;" /></a>
</br>
<p>Informally, an update is any decision procedure that can be carried out by a computer. We can program the above update rule in Algebraic Julia:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Complete code available in traffic-light.jl</span>

<span class="c1"># update rule for indvidual bulbs</span>
<span class="n">BulbTransition</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span><span class="nb">input</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> 

<span class="c1"># update rule for the controller box</span>
<span class="n">ControllerTransition</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">=</span> <span class="n">begin</span>
    <span class="k">if</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">true</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span><span class="p">)</span>  <span class="c1">#Red is ON, the rest of OFF</span>
        <span class="p">[</span><span class="n">false</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">false</span><span class="p">]</span> 
    <span class="n">elseif</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">true</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span><span class="p">)</span>  <span class="c1"># Green is ON</span>
        <span class="p">[</span><span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">true</span><span class="p">]</span>
    <span class="n">elseif</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">true</span><span class="p">)</span>  <span class="c1"># Yellow is ON, the rest is OFF</span>
        <span class="p">[</span><span class="n">true</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">]</span>
    <span class="k">else</span> <span class="c1">#non-sense </span>
        <span class="p">[</span><span class="n">true</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">]</span>
    <span class="n">end</span>
<span class="n">end</span>

<span class="c1"># transmission of state</span>
<span class="n">Readout</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">=</span> <span class="n">state</span>
</pre></div>
</div>
<p>And we get the following simulation:</p>
<a class="reference internal image-reference" href="_images/traffic-light-JAVIS.gif"><img alt="Whoopsy!" class="align-center" src="_images/traffic-light-JAVIS.gif" style="width: 75px;" /></a>
<div class="tip admonition">
<p class="admonition-title">Key point</p>
<p>Different vertices may have different update rules for its states.</p>
</div>
</section>
<section id="a-traffic-intersection">
<h3>2.3.4. A traffic intersection<a class="headerlink" href="#a-traffic-intersection" title="Permalink to this heading">#</a></h3>
<p>(&#64;PAUL: What is the purpose of this example? The update rule and the code is too complicated! we may loose the readers at this point!)</p>
<p>Here is the final upgrade to our traffic light example – a traffic intersection simulation! At an intersection traffic lights come in pairs. It’s mortally important to the drivers that when one traffic light is green the other must be red.</p>
<p>We model a traffic intersection by taking two copies of traffic light, redesign the update rules of the controllers to listen to the other controller before changing the color. For this, the state of the bulbs in one controller is fed to the other controller!</p>
<a class="reference internal image-reference" href="_images/TwoTrafficLights.png"><img alt="Whoopsy!" class="align-center" src="_images/TwoTrafficLights.png" style="width: 400px;" /></a>
<p>Now each controller will have six states, 3 states corresponding to three of its bulbs, 3 states corresponding to the state recevied from the bulbs of the other traffic light. Each controller, before switching from RED TO GREEN, will now make sure that the other controller is in RED state, and the other controller just switched to RED (thus it is the controller’s turn to GO GREEN!)</p>
<p>Here is the update rule for controller in Algebraic Julia:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TwinControllerTransition_R</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">=</span> <span class="n">begin</span>
    <span class="k">if</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">true</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span> <span class="p">)</span>  <span class="c1"># if your state is green, go to yellow</span>
        <span class="p">[</span><span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="nb">input</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">input</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">input</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span> 
    <span class="n">elseif</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">true</span> <span class="p">)</span> <span class="c1"># if your state is yellow, go to red</span>
        <span class="p">[</span><span class="n">true</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="nb">input</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">input</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">input</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span>
    <span class="n">elseif</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">true</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span> <span class="p">)</span> <span class="c1"># if your state is red</span>
        <span class="k">if</span><span class="p">(</span><span class="nb">input</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">true</span> <span class="o">&amp;&amp;</span>  <span class="nb">input</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">==</span> <span class="n">false</span> <span class="o">&amp;&amp;</span> <span class="nb">input</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span><span class="p">)</span> <span class="c1"># if your input is red</span>
            <span class="k">if</span><span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="n">false</span> <span class="o">&amp;&amp;</span> <span class="n">state</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">==</span> <span class="n">true</span><span class="p">)</span> <span class="c1">#  prev input is yellow</span>
                <span class="p">[</span><span class="n">false</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="nb">input</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">input</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">input</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">]</span> <span class="c1"># go green </span>
            <span class="k">else</span> 
                <span class="p">[</span><span class="n">true</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="nb">input</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">input</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">input</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span> <span class="c1"># stay red</span>
            <span class="n">end</span>
        <span class="k">else</span> 
            <span class="p">[</span><span class="n">true</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="nb">input</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">input</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">input</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span> <span class="c1"># stay red</span>
        <span class="n">end</span>
    <span class="k">else</span> <span class="c1"># any other case (red state and input is green)</span>
        <span class="p">[</span><span class="n">true</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">,</span> <span class="nb">input</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">input</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">input</span><span class="p">[</span><span class="mi">3</span><span class="p">]]</span> <span class="c1">#stay red</span>
    <span class="n">end</span>
<span class="n">end</span>
</pre></div>
</div>
<p>And here’s our simulation:</p>
<a class="reference internal image-reference" href="_images/traffic_intersection_final.gif"><img alt="Whoopsy!" class="align-center" src="_images/traffic_intersection_final.gif" style="width: 250px;" /></a>
</section>
</section>
<section id="kiki-and-bouba">
<h2>2.4. Kiki and Bouba<a class="headerlink" href="#kiki-and-bouba" title="Permalink to this heading">#</a></h2>
<p>Now for the grand finale, we are ready to build a model of Kiki’s and Bouba’s interaction and visualize their mood levels!</p>
<p>Let us recollect what we have seen so far:</p>
<ul class="simple">
<li><p>In the model of flashing light bulb, (at each time step) each vertex updated it state only based on its current state.</p></li>
<li><p>In the model of stringed light bulb, (at each time step) each vertex updated its state only based on the state received from its neighbour.</p></li>
<li><p>In the model of smart traffic light, (at each time step) the controller updated its state only based on its current state. The light bulbs updated their states only based on the input received from the controller.</p></li>
</ul>
<p>The talking friends model will have slighty different features:</p>
<ul class="simple">
<li><p>In this model, we will see that each vertex will update its state based on both its current state as well as the incoming state.</p></li>
</ul>
<p><strong>The story of two friends (recollected from introduction)</strong>: Kiki and Bouba are great friends but are quite different characters! It is fun when they meet because Kiki is highly excitable and Bouba prefers to be on the grumpy side! However, they get along with each other quite well! Would it not be interesting to visualize how their mood levels change as they interact?!</p>
<a class="reference internal image-reference" href="_images/Kiki-Bouba-friends-2.png"><img alt="Whoopsy!" class="align-center" src="_images/Kiki-Bouba-friends-2.png" style="width: 350px;" /></a>
</br>
<p>Let us get creative and sketch out some details of their interaction – <strong>what are the states and the update rules</strong>? – in steps!</p>
<section id="kiki-and-bouba-by-themselves">
<h3>2.4.1. Kiki and Bouba by themselves<a class="headerlink" href="#kiki-and-bouba-by-themselves" title="Permalink to this heading">#</a></h3>
<p>Let us start with a single person - either Kiki or Bouba - and see how their mood will change over time when they are by themselves.</p>
<p>Each one of them can show a range of emotions, from grumpy to happy.</p>
<a class="reference internal image-reference" href="_images/MoodOscillator.gif"><img alt="Whoopsy!" class="align-center" src="_images/MoodOscillator.gif" style="width: 400px;" /></a>
</br>
<p>Let us rate these emotions on a scale -5 to +5:</p>
<a class="reference internal image-reference" href="_images/MoodScaleKiki.jpg"><img alt="Whoopsy!" class="align-center" src="_images/MoodScaleKiki.jpg" style="width: 400px;" /></a>
<a class="reference internal image-reference" href="_images/MoodScaleBouba.jpg"><img alt="Whoopsy!" class="align-center" src="_images/MoodScaleBouba.jpg" style="width: 400px;" /></a>
</br>
<p>As with the bulb, we model Kiki and Bouba by themselves as a graph with two just vertices. The state of each vertex is called “Mood level”.</p>
<a class="reference internal image-reference" href="_images/Kiki-Bouba-by-themselves.png"><img alt="Whoopsy!" class="align-center" src="_images/Kiki-Bouba-by-themselves.png" style="width: 400px;" /></a>
</br>
<p>As mentioned earlier, the mood level can be anywhere between -5 to +5 (on a real line).</p>
<p>The update rule is that whatever mood Kiki and Bouba start with, they calm towards the neutral mood at their own rates. So this update rule uses a parameter called <strong>calmdown rate</strong>.</p>
<p>The update rule is coded as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># complete code available in the Github file, kiki-bouba-by-themselves.jl </span>

<span class="c1"># change in mood level = -(current mood level x calmdown rate)</span>
<span class="c1"># pay attention to the negative sign in the front; </span>
<span class="c1"># negative sign because it is calm &quot;down&quot; rate and not calm &quot;up&quot;</span>

<span class="c1"># here, change in mood is the amount by which the mood moves towards zero</span>
<span class="n">dotmood</span><span class="p">(</span><span class="n">mood</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="o">=</span> <span class="p">[</span> <span class="o">-</span> <span class="p">(</span><span class="n">mood</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">param</span><span class="o">.</span><span class="n">calmdown_rate</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="p">]</span> 
</pre></div>
</div>
<p>We set the initial mood of Kiki to 4.5 and Bouba to be -4.5. We set their calmdown rates to be 5% (0.05) for Kiki and 3% (0.03) for Bouba.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">initial_moods</span> <span class="o">=</span> <span class="p">[</span><span class="mf">4.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.5</span><span class="p">]</span>
<span class="n">params</span> <span class="o">=</span> <span class="n">LVector</span><span class="p">(</span><span class="n">calmdown_rate</span><span class="o">=</span><span class="p">[</span><span class="mf">.05</span><span class="p">,</span> <span class="mf">.03</span><span class="p">])</span>
</pre></div>
</div>
<p>Are you ready to visualize their mood change when they are by themselves?</p>
<a class="reference internal image-reference" href="_images/Kiki-Bouba-standalone-plot.svg"><img alt="Whoopsy!" class="align-center" src="_images/Kiki-Bouba-standalone-plot.svg" width="500px" /></a>
</br>
<p>As we see, their moods move towards 0 (neutral) with no external stimulus!</p>
<div class="admonition-food-for-thought admonition">
<p class="admonition-title">Food for thought</p>
<p>The moods will never become zero! Can you see why?</p>
</div>
<p>[THE REST OF THE CHAPTER IS YET TO BE WRITTEN.]</p>
</section>
<section id="kiki-and-bouba-talking-to-each-other">
<h3>2.4.2. Kiki and Bouba talking to each other<a class="headerlink" href="#kiki-and-bouba-talking-to-each-other" title="Permalink to this heading">#</a></h3>
<p>Bourba is feeling super grouchy today but luckily being around Kiki tends to improve Bourba’s mood. Kiki, on the other hand, is feeling great! Unfortunately, when Bourba is down in the dumps, it really drags down Kiki’s mood too. But when Kiki’s in a bad mood it only makes Bourba feel <em>worse</em>.</p>
<p>How will these friends’ moods <em>interact</em>? Will Kiki manage to cheer Bourba up or will they both end up depressed? Or maybe their moods will alternate back and forth in and endless cycle of cheering up and bumming out:</p>
<p>First, let’s describe the interaction of their moods</p>
<p>Kiki &amp; Bouba interactive</p>
<a class="reference internal image-reference" href="_images/Kiki&amp;Bouba.png"><img alt="Whoopsy!" class="align-center" src="_images/Kiki&amp;Bouba.png" style="width: 400px;" /></a>
<p>The mood change is dependent on three <strong>parameters</strong> namely susceptibility factor, tolerance levels and calm down rates.  Parameter values of a process block remain constant (does not change over time). They can be thought of as weights for the variables (inputs and current state) in the computation of dynamics.</p>
<p>Here is a possible dynamics of mood change in words based on the above assumptions:</p>
<blockquote>
<div><p>At each instant of time, each friend takes in a certain amount of other person’s mood based on their susceptibility. They also release certain amount of their mood based on the calm down rate. If they reach their excitement or grumpiness maximum tolerance levels, then they just calm down; no more interaction!</p>
</div></blockquote>
<p>Here is a mathematical representation of the above dynamics:</p>
<blockquote>
<div><p>if the maximum grumpiness is reached or the maximum excitement is reached then</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  change in mood = - calm down rate x current mood → The amount by which the current mood moves towards the neutral
</pre></div>
</div>
<p>else</p>
<p>change_in_mood  = - calm down rate x current mood  + susceptibility factor x incoming mood → The amount of the incoming mood taken in.</p>
</div></blockquote>
<p>This is how the moods of Kiki and Bourba will change over time. The negative signs in the calculation signifies the direction of change — the decrease in grumpiness or excitement. The calm down rates and susceptibility factors of Kiki and Bourba has values between 0 and 1, inclusive.</p>
<blockquote>
<div><p>New mood level = change in mood + current mood</p>
</div></blockquote>
</section>
<section id="chef-bouba-and-his-helpers">
<h3>2.4.3. Chef Bouba and his helpers<a class="headerlink" href="#chef-bouba-and-his-helpers" title="Permalink to this heading">#</a></h3>
<p>Kiki &amp; Bouba &amp; Staff</p>
<a class="reference internal image-reference" href="_images/KikiAndBoubaAndStaff.png"><img alt="Whoopsy!" class="align-center" src="_images/KikiAndBoubaAndStaff.png" style="width: 400px;" /></a>
</section>
</section>
<section id="summary">
<h2>2.5. Summary<a class="headerlink" href="#summary" title="Permalink to this heading">#</a></h2>
<p>recollect the purpose of this chapter</p>
<p>Discrete vs continuous</p>
<p>The update rule of the above graph is a <em>lookup table</em> which says given the current state what the next state must be. Whatever the current state of the bulb is, it will be the opposite state in the next time step, based on this update rule.</p>
<p>Update rules can be anything - look up tables, logical conditionals, differential equations, automata, recurrence relations, other dynamical systems, etc.?</p>
<p>Preview of more general powerful models in Algebraic Dynamics. Link so Sophie’s assets</p>
<p>Dynamical systems and directed graphs are a useful framework for modeling the world. Indeed, they are a close match for how humans tend to conceptualize things. We instinctively look at the world in terms of cause and effect, in terms of procedures which play out over time, in terms of things-acting-upon-other-things.</p>
<p>But this is just one way of looking at the world. And not all systems are best understood in these terms. In the coming sections we will develop to a more <em>relational</em> approach, a subtle and versatile way of working with graphs having an emphasis on constraints and filters instead of step-by-step procedures. Systems that maintain a kind of equilibrium or balancing act between simultaneous constraints.</p>
<hr class="footnotes docutils" />
<aside class="footnote brackets" id="id2" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>These are special sorts of directed graphs called Directed Wiring Diagrams. They are slightly different than directed graphs and have richer capabilities nested modelling.</p>
</aside>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "ToposInstitute/AlgJulia-Book",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "julia-1.10"
        },
        kernelOptions: {
            name: "julia-1.10",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'julia-1.10'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="chp1-directed-graphs.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Chapter 1: Directed Graphs</p>
      </div>
    </a>
    <a class="right-next"
       href="chp3-schemas.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Chapter 3: Schemas</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">2.1. Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#making-graphs-dynamical">2.2. Making graphs dynamical</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#light-bulbs">2.3. Light bulbs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#single-light-bulb">2.3.1. Single light bulb</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#flashing-light-bulb">2.3.2. Flashing light bulb</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#string-of-lights">2.3.3. String of lights</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-traffic-light">2.3.4. A traffic light</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-traffic-intersection">2.3.4. A traffic intersection</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kiki-and-bouba">2.4. Kiki and Bouba</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kiki-and-bouba-by-themselves">2.4.1. Kiki and Bouba by themselves</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kiki-and-bouba-talking-to-each-other">2.4.2. Kiki and Bouba talking to each other</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chef-bouba-and-his-helpers">2.4.3. Chef Bouba and his helpers</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">2.5. Summary</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>